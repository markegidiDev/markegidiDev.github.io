/* Tailwind base (v4-compatible) */
@import "tailwindcss";
@import "tailwindcss/preflight";
@import "tailwindcss/utilities";

/* Design tokens (light as default) */
@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 47.4% 11.2%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 47.4% 11.2%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 47.4% 11.2%;

    --primary: 221.2 83.2% 53.3%;
    --primary-foreground: 210 40% 98%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 72% 51%;
    --destructive-foreground: 210 40% 98%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 221.2 83.2% 53.3%;

    --radius: 0.8rem;

    /* Chart palette */
    --chart-1: 220 70% 55%;
    --chart-2: 160 60% 45%;
    --chart-3: 40 90% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 0 70% 60%;

    /* Neumorphism + glassmorphism extras */
    --gd-bg: linear-gradient(134deg,#1f2023,#27282c);
    --gd-divider: radial-gradient(50% 50% at 50% 50%,#616161 0%,rgba(160,160,160,0) 100%);
    --gd-magenta: linear-gradient(356deg,#ff00ff 15%,#930093 84%);
    --gd-magenta-2: radial-gradient(76.03% 76.03% at 24% 18%,#ff00ff 0%,#670077 100%);
    --gd-border: linear-gradient(174deg,#343538,rgba(31,32,35,.92));
    --dark-surface: #191a1c;
    --accent-green: #14f195;
    --shadow-main: 13px 14px 12px -6px rgba(16,20,24,.4),-5px -5px 20px 0 rgba(39,40,42,.35);
    --shadow-btn-magenta: 0 2px 10px 5px rgba(255,0,255,.15),5px 5px 10px 0 #181e24,-5px -5px 10px 0 rgba(59,62,66,.35);
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 6%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 6%;
    --popover-foreground: 210 40% 98%;

    --primary: 217.2 91.2% 59.8%;
    --primary-foreground: 222.2 47.4% 11.2%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 72% 40%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 224.3 76.3% 48%;

    --chart-1: 220 70% 60%;
    --chart-2: 160 55% 50%;
    --chart-3: 40 85% 55%;
    --chart-4: 280 60% 60%;
    --chart-5: 0 65% 60%;
  }

  /* Extra theme: "nord" (misto verde/blu/viola) */
  .nord {
    --background: 220 24% 10%;
    --foreground: 210 36% 96%;

    --card: 221 22% 14%;
    --card-foreground: 210 36% 96%;

    --popover: 221 22% 14%;
    --popover-foreground: 210 36% 96%;

    --primary: 248 35% 65%; /* violet */
    --primary-foreground: 220 24% 10%;

    --secondary: 199 32% 22%;
    --secondary-foreground: 210 36% 96%;

    --muted: 221 18% 22%;
    --muted-foreground: 214 20% 80%;

    --accent: 207 24% 22%;
    --accent-foreground: 210 36% 96%;

    --destructive: 355 60% 55%;
    --destructive-foreground: 210 36% 96%;

    --border: 220 18% 22%;
    --input: 220 18% 22%;
    --ring: 248 35% 65%;

    --chart-1: 200 60% 55%; /* blue */
    --chart-2: 145 50% 45%; /* green */
    --chart-3: 270 45% 60%; /* purple */
    --chart-4: 188 45% 50%; /* cyan */
    --chart-5: 325 40% 60%; /* magenta */
  }

  * {
  /* Tailwind v4 may not allow @apply of custom utilities here; set directly */
  border-color: hsl(var(--border));
  }

  /* Reserve scrollbar gutter at root to prevent horizontal shift on Windows */
  html {
    /* Always reserve vertical scrollbar space to prevent left/right shift */
    overflow-y: scroll;
    scrollbar-gutter: stable both-edges;
  }

  body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    /* Inherit from html; no forced scroll so mobile stays clean */
    overflow-y: auto;
  }

  /* If libraries apply overflow hidden on body (e.g., modals), keep layout stable */
  body[style*="overflow: hidden"],
  html:has(body[style*="overflow: hidden"]) {
    scrollbar-gutter: stable both-edges;
  }
}

/* Utilities that map tokens â†’ semantic classes */
@layer utilities {
  .bg-background { background-color: hsl(var(--background)); }
  .text-foreground { color: hsl(var(--foreground)); }

  .bg-card { background-color: hsl(var(--card)); }
  .text-card-foreground { color: hsl(var(--card-foreground)); }

  .bg-popover { background-color: hsl(var(--popover)); }
  .text-popover-foreground { color: hsl(var(--popover-foreground)); }

  .bg-primary { background-color: hsl(var(--primary)); }
  .text-primary { color: hsl(var(--primary)); }
  .text-primary-foreground { color: hsl(var(--primary-foreground)); }

  .bg-secondary { background-color: hsl(var(--secondary)); }
  .text-secondary-foreground { color: hsl(var(--secondary-foreground)); }

  .bg-muted { background-color: hsl(var(--muted)); }
  .text-muted-foreground { color: hsl(var(--muted-foreground)); }

  .bg-accent { background-color: hsl(var(--accent)); }
  .text-accent-foreground { color: hsl(var(--accent-foreground)); }

  .border-border { border-color: hsl(var(--border)); }
  .ring-primary { --tw-ring-color: hsl(var(--ring)); }

  .bg-chart-1 { background-color: hsl(var(--chart-1)); }
  .bg-chart-2 { background-color: hsl(var(--chart-2)); }
  .bg-chart-3 { background-color: hsl(var(--chart-3)); }
  .bg-chart-4 { background-color: hsl(var(--chart-4)); }
  .bg-chart-5 { background-color: hsl(var(--chart-5)); }

  /* Neumorphism + glassmorphism helpers */
  .bg-gd-border-main { background-image: var(--gd-border); }
  .bg-gd-main { background-image: var(--gd-bg); }
  .bg-gd-divider { background-image: var(--gd-divider); }
  .bg-gd-magenta { background-image: var(--gd-magenta); }
  .bg-gd-magenta-2 { background-image: var(--gd-magenta-2); }
  .bg-dark { background-color: var(--dark-surface); }
  .text-green { color: var(--accent-green); }
  .shadow-main { box-shadow: var(--shadow-main); }
  .shadow-magenta-btn { box-shadow: var(--shadow-btn-magenta); }
  .neumorphism-border-1 { background-image: linear-gradient(176deg,rgba(0,0,0,.3) 45%,hsla(0,0%,100%,.07)); }
  .neumorphism-border-2 { background-image: linear-gradient(165deg,rgba(0,0,0,.3) 50%,hsla(0,0%,100%,.01)); }
}

/* Keyframes for ContactDock marquee scroll */
@keyframes scroll {
  from { transform: translateX(0); }
  to { transform: translateX(-50%); }
}

/* Default inner padding for generic cards across the site.
   Applies only when the element has bg-card + border and NO explicit Tailwind padding (p-/px-).
   This prevents text touching the edges without breaking components that already set padding. */
.bg-card.border:not([class^="p-"]):not([class*=" p-"]):not([class^="px-"]):not([class*=" px-"]) {
  padding: clamp(0.875rem, 2vw, 1.25rem); /* ~p-3.5 to p-5 */
}

/* Same default for translucent card variants like bg-card/80 */
[class*="bg-card/"].border:not([class^="p-"]):not([class*=" p-"]):not([class^="px-"]):not([class*=" px-"]) {
  padding: clamp(0.875rem, 2vw, 1.25rem);
}
